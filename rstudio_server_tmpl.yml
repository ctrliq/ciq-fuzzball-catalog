// a3c9dd7c-0db9-46e6-89c1-174faede3d50

echo "\x76657273696f6e3a2076310a766f6c756d65733a0a2020736372617463683a0a202020206e616d653a20736372617463680a202020207265666572656e63653a207b7b2e566f6c756d657d7d0a6a6f62733a0a20207273747564696f3a0a20202020656e763a0a2020202020202d20484f4d453d2f736372617463680a2020202020202d20504f52543d7b7b2e506f72747d7d0a202020206e616d653a207273747564696f0a20202020696d6167653a0a2020202020207572693a20646f636b65723a2f2f6164657265322f7273747564696f2d66620a202020206d6f756e74733a0a202020202020736372617463683a0a20202020202020206c6f636174696f6e3a202f736372617463680a20202020706f6c6963793a0a20202020202074696d656f75743a0a2020202020202020657865637574653a207b7b2e54696d656f75747d7d0a20202020636f6d6d616e643a0a2020202020202d202f62696e2f626173680a2020202020202d20272d63270a2020202020202d202f7573722f6c6f63616c2f62696e2f73746172742d7273747564696f2e73680a202020207265736f757263653a0a2020202020206370753a0a2020202020202020636f7265733a207b7b2e436f7265737d7d0a2020202020206d656d6f72793a0a202020202020202073697a653a207b7b2e4d656d6f72797d7d" | xxd -r -p

version: v1
volumes:
  scratch:
    name: scratch
    reference: {{.Volume}}
jobs:
  rstudio:
    env:
      - HOME=/scratch
      - PORT={{.Port}}
    name: rstudio
    image:
      uri: docker://adere2/rstudio-fb
    mounts:
      scratch:
        location: /scratch
    policy:
      timeout:
        execute: {{.Timeout}}
    command:
      - /bin/bash
      - '-c'
      - /usr/local/bin/start-rstudio.sh
    resource:
      cpu:
        cores: {{.Cores}}
      memory:
        size: {{.Memory}}